var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,l){return l||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,l){if(e){var i;for(i=0;i<e.length&&(!e[i]||!l(e[i],i,e));i+=1);}}function eachReverse(e,l){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!l(e[i],i,e));i-=1);}}function hasProp(e,l){return hasOwn.call(e,l)}function getOwn(e,l){return hasProp(e,l)&&e[l]}function eachProp(e,l){var i;for(i in e)if(hasProp(e,i)&&l(e[i],i))break}function mixin(e,l,i,t){return l&&eachProp(l,function(l,n){!i&&hasProp(e,n)||(!t||"object"!=typeof l||!l||isArray(l)||isFunction(l)||l instanceof RegExp?e[n]=l:(e[n]||(e[n]={}),mixin(e[n],l,i,t)))}),e}function bind(e,l){return function(){return l.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var l=global;return each(e.split("."),function(e){l=l[e]}),l}function makeError(e,l,i,t){var n=new Error(l+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=t,i&&(n.originalError=i),n}function newContext(e){function l(e){var l,i;for(l=0;l<e.length;l++)if(i=e[l],"."===i)e.splice(l,1),l-=1;else if(".."===i){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}}function i(e,i,t){var n,a,r,o,s,m,h,c,p,d,u,x,f=i&&i.split("/"),g=b.map,E=g&&g["*"];if(e&&(e=e.split("/"),h=e.length-1,b.nodeIdCompat&&jsSuffixRegExp.test(e[h])&&(e[h]=e[h].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&f&&(x=f.slice(0,f.length-1),e=x.concat(e)),l(e),e=e.join("/")),t&&g&&(f||E)){r=e.split("/");e:for(o=r.length;o>0;o-=1){if(m=r.slice(0,o).join("/"),f)for(s=f.length;s>0;s-=1)if(a=getOwn(g,f.slice(0,s).join("/")),a&&(a=getOwn(a,m))){c=a,p=o;break e}!d&&E&&getOwn(E,m)&&(d=getOwn(E,m),u=o)}!c&&d&&(c=d,p=u),c&&(r.splice(0,p,c),e=r.join("/"))}return n=getOwn(b.pkgs,e),n?n:e}function t(e){isBrowser&&each(scripts(),function(l){if(l.getAttribute("data-requiremodule")===e&&l.getAttribute("data-requirecontext")===w.contextName)return l.parentNode.removeChild(l),!0})}function n(e){var l=getOwn(b.paths,e);if(l&&isArray(l)&&l.length>1)return l.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function a(e){var l,i=e?e.indexOf("!"):-1;return i>-1&&(l=e.substring(0,i),e=e.substring(i+1,e.length)),[l,e]}function r(e,l,t,n){var r,o,s,m,h=null,c=l?l.name:null,p=e,d=!0,u="";return e||(d=!1,e="_@r"+(H+=1)),m=a(e),h=m[0],e=m[1],h&&(h=i(h,c,n),o=getOwn(R,h)),e&&(h?u=o&&o.normalize?o.normalize(e,function(e){return i(e,c,n)}):e.indexOf("!")===-1?i(e,c,n):e:(u=i(e,c,n),m=a(u),h=m[0],u=m[1],t=!0,r=w.nameToUrl(u))),s=!h||o||t?"":"_unnormalized"+(O+=1),{prefix:h,name:u,parentMap:l,unnormalized:!!s,url:r,originalName:p,isDefine:d,id:(h?h+"!"+u:u)+s}}function o(e){var l=e.id,i=getOwn(S,l);return i||(i=S[l]=new w.Module(e)),i}function s(e,l,i){var t=e.id,n=getOwn(S,t);!hasProp(R,t)||n&&!n.defineEmitComplete?(n=o(e),n.error&&"error"===l?i(n.error):n.on(l,i)):"defined"===l&&i(R[t])}function m(e,l){var i=e.requireModules,t=!1;l?l(e):(each(i,function(l){var i=getOwn(S,l);i&&(i.error=e,i.events.error&&(t=!0,i.emit("error",e)))}),t||req.onError(e))}function h(){globalDefQueue.length&&(each(globalDefQueue,function(e){var l=e[0];"string"==typeof l&&(w.defQueueMap[l]=!0),T.push(e)}),globalDefQueue=[])}function c(e){delete S[e],delete z[e]}function p(e,l,i){var t=e.map.id;e.error?e.emit("error",e.error):(l[t]=!0,each(e.depMaps,function(t,n){var a=t.id,r=getOwn(S,a);!r||e.depMatched[n]||i[a]||(getOwn(l,a)?(e.defineDep(n,R[a]),e.check()):p(r,l,i))}),i[t]=!0)}function d(){var e,l,i=1e3*b.waitSeconds,a=i&&w.startTime+i<(new Date).getTime(),r=[],o=[],s=!1,h=!0;if(!E){if(E=!0,eachProp(z,function(e){var i=e.map,m=i.id;if(e.enabled&&(i.isDefine||o.push(e),!e.error))if(!e.inited&&a)n(m)?(l=!0,s=!0):(r.push(m),t(m));else if(!e.inited&&e.fetched&&i.isDefine&&(s=!0,!i.prefix))return h=!1}),a&&r.length)return e=makeError("timeout","Load timeout for modules: "+r,null,r),e.contextName=w.contextName,m(e);h&&each(o,function(e){p(e,{},{})}),a&&!l||!s||!isBrowser&&!isWebWorker||y||(y=setTimeout(function(){y=0,d()},50)),E=!1}}function u(e){hasProp(R,e[0])||o(r(e[0],null,!0)).init(e[1],e[2])}function x(e,l,i,t){e.detachEvent&&!isOpera?t&&e.detachEvent(t,l):e.removeEventListener(i,l,!1)}function f(e){var l=e.currentTarget||e.srcElement;return x(l,w.onScriptLoad,"load","onreadystatechange"),x(l,w.onScriptError,"error"),{node:l,id:l&&l.getAttribute("data-requiremodule")}}function g(){var e;for(h();T.length;){if(e=T.shift(),null===e[0])return m(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));u(e)}w.defQueueMap={}}var E,_,w,v,y,b={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},S={},z={},M={},T=[],R={},q={},k={},H=1,O=1;return v={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?R[e.map.id]=e.exports:e.exports=R[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(b.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},_=function(e){this.events=getOwn(M,e.id)||{},this.map=e,this.shim=getOwn(b.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},_.prototype={init:function(e,l,i,t){t=t||{},this.inited||(this.factory=l,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=t.ignore,t.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,l){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=l)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;q[e]||(q[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,l,i=this.map.id,t=this.depExports,n=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{n=w.execCb(i,a,t,n)}catch(l){e=l}else n=w.execCb(i,a,t,n);if(this.map.isDefine&&void 0===n&&(l=this.module,l?n=l.exports:this.usingExports&&(n=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",m(this.error=e)}else n=a;if(this.exports=n,this.map.isDefine&&!this.ignore&&(R[i]=n,req.onResourceLoad)){var r=[];each(this.depMaps,function(e){r.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,r)}c(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,i)||this.fetch()}},callPlugin:function(){var e=this.map,l=e.id,t=r(e.prefix);this.depMaps.push(t),s(t,"defined",bind(this,function(t){var n,a,h,p=getOwn(k,this.map.id),d=this.map.name,u=this.map.parentMap?this.map.parentMap.name:null,x=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(t.normalize&&(d=t.normalize(d,function(e){return i(e,u,!0)})||""),a=r(e.prefix+"!"+d,this.map.parentMap),s(a,"defined",bind(this,function(e){this.map.normalizedMap=a,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),h=getOwn(S,a.id),void(h&&(this.depMaps.push(a),this.events.error&&h.on("error",bind(this,function(e){this.emit("error",e)})),h.enable()))):p?(this.map.url=w.nameToUrl(p),void this.load()):(n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),n.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[l],eachProp(S,function(e){0===e.map.id.indexOf(l+"_unnormalized")&&c(e.map.id)}),m(e)}),n.fromText=bind(this,function(i,t){var a=e.name,s=r(a),h=useInteractive;t&&(i=t),h&&(useInteractive=!1),o(s),hasProp(b.config,l)&&(b.config[a]=b.config[l]);try{req.exec(i)}catch(e){return m(makeError("fromtexteval","fromText eval for "+l+" failed: "+e,e,[l]))}h&&(useInteractive=!0),this.depMaps.push(s),w.completeLoad(a),x([a],n)}),void t.load(e.name,x,n,b))})),w.enable(t,this),this.pluginMaps[t.id]=t},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,l){var i,t,n;if("string"==typeof e){if(e=r(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[l]=e,n=getOwn(v,e.id))return void(this.depExports[l]=n(this));this.depCount+=1,s(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(l,e),this.check())})),this.errback?s(e,"error",bind(this,this.errback)):this.events.error&&s(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,t=S[i],hasProp(v,i)||!t||t.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var l=getOwn(S,e.id);l&&!l.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,l){var i=this.events[e];i||(i=this.events[e]=[]),i.push(l)},emit:function(e,l){each(this.events[e],function(e){e(l)}),"error"===e&&delete this.events[e]}},w={config:b,contextName:e,registry:S,defined:R,urlFetched:q,defQueue:T,defQueueMap:{},Module:_,makeModuleMap:r,nextTick:req.nextTick,onError:m,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var l=e.urlArgs;e.urlArgs=function(e,i){return(i.indexOf("?")===-1?"?":"&")+l}}var i=b.shim,t={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,l){t[l]?(b[l]||(b[l]={}),mixin(b[l],e,!0,!0)):b[l]=e}),e.bundles&&eachProp(e.bundles,function(e,l){each(e,function(e){e!==l&&(k[e]=l)})}),e.shim&&(eachProp(e.shim,function(e,l){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),i[l]=e}),b.shim=i),e.packages&&each(e.packages,function(e){var l,i;e="string"==typeof e?{name:e}:e,i=e.name,l=e.location,l&&(b.paths[i]=e.location),b.pkgs[i]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(S,function(e,l){e.inited||e.map.unnormalized||(e.map=r(l,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function l(){var l;return e.init&&(l=e.init.apply(global,arguments)),l||e.exports&&getGlobal(e.exports)}return l},makeRequire:function(l,n){function a(i,t,s){var h,c,p;return n.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof i?isFunction(t)?m(makeError("requireargs","Invalid require call"),s):l&&hasProp(v,i)?v[i](S[l.id]):req.get?req.get(w,i,l,a):(c=r(i,l,!1,!0),h=c.id,hasProp(R,h)?R[h]:m(makeError("notloaded",'Module name "'+h+'" has not been loaded yet for context: '+e+(l?"":". Use require([])")))):(g(),w.nextTick(function(){g(),p=o(r(null,l)),p.skipMap=n.skipMap,p.init(i,t,s,{enabled:!0}),d()}),a)}return n=n||{},mixin(a,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),a=e.split("/")[0],r="."===a||".."===a;return n!==-1&&(!r||n>1)&&(t=e.substring(n,e.length),e=e.substring(0,n)),w.nameToUrl(i(e,l&&l.id,!0),t,!0)},defined:function(e){return hasProp(R,r(e,l,!1,!0).id)},specified:function(e){return e=r(e,l,!1,!0).id,hasProp(R,e)||hasProp(S,e)}}),l||(a.undef=function(e){h();var i=r(e,l,!0),n=getOwn(S,e);n.undefed=!0,t(e),delete R[e],delete q[i.url],delete M[e],eachReverse(T,function(l,i){l[0]===e&&T.splice(i,1)}),delete w.defQueueMap[e],n&&(n.events.defined&&(M[e]=n.events),c(e))}),a},enable:function(e){var l=getOwn(S,e.id);l&&o(e).enable()},completeLoad:function(e){var l,i,t,a=getOwn(b.shim,e)||{},r=a.exports;for(h();T.length;){if(i=T.shift(),null===i[0]){if(i[0]=e,l)break;l=!0}else i[0]===e&&(l=!0);u(i)}if(w.defQueueMap={},t=getOwn(S,e),!l&&!hasProp(R,e)&&t&&!t.inited){if(!(!b.enforceDefine||r&&getGlobal(r)))return n(e)?void 0:m(makeError("nodefine","No define call for "+e,null,[e]));u([e,a.deps||[],a.exportsFn])}d()},nameToUrl:function(e,l,i){var t,n,a,r,o,s,m,h=getOwn(b.pkgs,e);if(h&&(e=h),m=getOwn(k,e))return w.nameToUrl(m,l,i);if(req.jsExtRegExp.test(e))o=e+(l||"");else{for(t=b.paths,n=e.split("/"),a=n.length;a>0;a-=1)if(r=n.slice(0,a).join("/"),s=getOwn(t,r)){isArray(s)&&(s=s[0]),n.splice(0,a,s);break}o=n.join("/"),o+=l||(/^data\:|^blob\:|\?/.test(o)||i?"":".js"),o=("/"===o.charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":b.baseUrl)+o}return b.urlArgs&&!/^blob\:/.test(o)?o+b.urlArgs(e,o):o},load:function(e,l){req.load(w,e,l)},execCb:function(e,l,i,t){return l.apply(t,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var l=f(e);w.completeLoad(l.id)}},onScriptError:function(e){var l=f(e);if(!n(l.id)){var i=[];return eachProp(S,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===l.id)return i.push(t),!0})}),m(makeError("scripterror",'Script error for "'+l.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[l.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.2",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,l,i,t){var n,a,r=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(l)?(e=l,l=i,i=t):e=[]),a&&a.context&&(r=a.context),n=getOwn(contexts,r),n||(n=contexts[r]=req.s.newContext(r)),a&&n.configure(a),n.require(e,l,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var l=contexts[defContextName];return l.require[e].apply(l,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,l,i){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,l,i){var t,n=e&&e.config||{};if(isBrowser)return t=req.createNode(n,l,i),t.setAttribute("data-requirecontext",e.contextName),t.setAttribute("data-requiremodule",l),!t.attachEvent||t.attachEvent.toString&&t.attachEvent.toString().indexOf("[native code")<0||isOpera?(t.addEventListener("load",e.onScriptLoad,!1),t.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,t.attachEvent("onreadystatechange",e.onScriptLoad)),t.src=i,n.onNodeCreated&&n.onNodeCreated(t,n,l,i),currentlyAddingScript=t,baseElement?head.insertBefore(t,baseElement):head.appendChild(t),currentlyAddingScript=null,t;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),e.completeLoad(l)}catch(t){e.onError(makeError("importscripts","importScripts failed for "+l+" at "+i,t,[l]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||mainScript.indexOf("!")!==-1||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,l,i){var t,n;"string"!=typeof e&&(i=l,l=e,e=null),isArray(l)||(i=l,l=null),!l&&isFunction(i)&&(l=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,i){l.push(i)}),l=(1===i.length?["require"]:["require","exports","module"]).concat(l))),useInteractive&&(t=currentlyAddingScript||getInteractiveScript(),t&&(e||(e=t.getAttribute("data-requiremodule")),n=contexts[t.getAttribute("data-requirecontext")])),n?(n.defQueue.push([e,l,i]),n.defQueueMap[e]=!0):globalDefQueue.push([e,l,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requireLib",function(){}),define("game/modules/scene",[],function(){var e,l,i,t,n,a,r,o,s,m,h=function(){return s=window.innerHeight,m=window.innerWidth,e=new THREE.Scene,t=m/s,i=60,n=1,a=1e4,l=new THREE.PerspectiveCamera(i,t,n,a),l.position.x=-30,l.position.z=130,l.position.y=100,r=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),r.setSize(m,s),r.shadowMap.enabled=!0,o=document.getElementById("game"),o.appendChild(r.domElement),window.addEventListener("resize",c,!1),{scene:e,renderer:r,camera:l,WIDTH:m,HEIGHT:s}},c=function(){s=window.innerHeight,m=window.innerWidth,r.setSize(m,s),l.aspect=m/s,l.updateProjectionMatrix()};return{createScene:h,scene:e,camera:l}}),define("game/modules/lights",["./scene"],function(e){function l(){console.log(e),t=new THREE.HemisphereLight(11184810,0,.9),i=new THREE.AmbientLight(14452852,.5),n=new THREE.DirectionalLight(16777215,.9),n.position.set(150,350,350),n.castShadow=!0,n.shadow.camera.left=-400,n.shadow.camera.right=400,n.shadow.camera.top=400,n.shadow.camera.bottom=-400,n.shadow.camera.near=1,n.shadow.camera.far=1e3,n.shadow.mapSize.width=2048,n.shadow.mapSize.height=2048,e.scene.add(t),e.scene.add(n),e.scene.add(i)}var i,t,n;return{createLights:l}}),define("game/modules/colors",[],function(){return{grey:11119017,white:16777215,skin:16766377,hair:16765696,black:5000268}}),define("game/modules/player",["./scene","./colors"],function(e,l){var i=function(){this.mesh=new THREE.Group,this.mesh.name="hacker";var e=new THREE.CubeGeometry(10,10,10),i=new THREE.MeshPhongMaterial({color:l.grey,shading:THREE.FlatShading}),t=new THREE.Mesh(e,i);t.castShadow=!0,t.receiveShadow=!0,this.mesh.add(t),t.position.x+=5;var n=new THREE.CubeGeometry(10,10,20),a=new THREE.Mesh(n,i);a.castShadow=!0,a.receiveShadow=!0,this.mesh.add(a),a.position.x+=5,a.position.y+=10,a.position.z+=5;var r=new THREE.Mesh(e,i);r.castShadow=!0,r.receiveShadow=!0,r.position.x-=15,this.mesh.add(r);var o=new THREE.Mesh(n,i);o.castShadow=!0,o.receiveShadow=!0,this.mesh.add(o),o.position.y+=10,o.position.z+=5,o.position.x-=15;var s=new THREE.CubeGeometry(30,20,30),m=new THREE.Mesh(s,i);m.castShadow=!0,m.receiveShadow=!0,this.mesh.add(m),m.position.y+=25,m.position.x-=5,m.position.z+=10;var h=new THREE.CubeGeometry(20,10,10),c=new THREE.MeshPhongMaterial({color:l.skin,shading:THREE.FlatShading}),p=new THREE.Mesh(h,c);p.castShadow=!0,p.receiveShadow=!0,this.mesh.add(p),p.position.y+=40,p.position.x-=5,p.position.z+=15;var d=new THREE.CubeGeometry(10,10,30),u=new THREE.MeshPhongMaterial({color:l.white,shading:THREE.FlatShading}),x=new THREE.Mesh(d,u);x.castShadow=!0,x.receiveShadow=!0,this.mesh.add(x),x.position.y+=40,x.position.x-=15,x.position.z+=10;var f=x.clone();f.position.x+=20,this.mesh.add(f);var g=x.clone();g.rotation.y+=Math.PI/2,g.position.z-=10,g.position.x+=10,this.mesh.add(g);var E=new THREE.CubeGeometry(50,50,40),_=new THREE.Mesh(E,c);_.castShadow=!0,_.receiveShadow=!0,this.mesh.add(_),_.position.y+=70,_.position.x-=5,_.position.z+=10,this.head=_;var w=new THREE.MeshPhongMaterial({color:l.black,shading:THREE.FlatShading}),v=new THREE.CubeGeometry(30,30,10),y=new THREE.Mesh(v,w);y.castShadow=!0,y.receiveShadow=!0,this.mesh.add(y),y.position.y+=70,y.position.x-=25,y.position.z+=35;var b=y.clone();this.mesh.add(b),b.position.x+=40;var S=y.clone();this.mesh.add(S),S.position.x+=20,S.scale.set(.4,.4,1);var z=new THREE.CubeGeometry(10,10,10),M=new THREE.Mesh(z,u);M.castShadow=!0,M.receiveShadow=!0,this.mesh.add(M),M.position.y+=70,M.position.x-=25,M.position.z+=36;var T=M.clone();this.mesh.add(T),T.position.x+=40;var R=new THREE.MeshPhongMaterial({color:l.hair,shading:THREE.FlatShading}),q=new THREE.CubeGeometry(70,10,60),k=new THREE.Mesh(q,R);k.castShadow=!0,k.receiveShadow=!0,this.mesh.add(k),k.position.y+=100,k.position.x-=5,k.position.z+=10;var H=new THREE.CubeGeometry(70,30,30),O=new THREE.Mesh(H,R);O.castShadow=!0,O.receiveShadow=!0,this.mesh.add(O),O.position.y+=85,O.position.x-=5,O.position.z-=5;var j=new THREE.CubeGeometry(50,10,10),P=new THREE.Mesh(j,R);P.castShadow=!0,P.receiveShadow=!0,this.mesh.add(P),P.position.y+=110,P.position.x-=5,P.position.z+=5,this.isJumping=!1,this.isFalling=!1,this.jumpSpeed=0,this.fallSpeed=0,this.maxJumpSpeed=8,this.jump=function(){this.isJumping||this.isFalling||(this.fallSpeed=0,this.isJumping=!0,this.jumpSpeed=this.maxJumpSpeed)},this.checkJump=function(){this.mesh.position.y>120?this.moveRest=!0:(this.moveRest=!1,this.mesh.position.y+=this.jumpSpeed),this.jumpSpeed--,0===this.jumpSpeed&&(this.isJumping=!1,this.isFalling=!0,this.fallSpeed=1)},this.fallStop=function(){this.isFalling=!1,this.fallSpeed=0,this.jump()},this.checkFall=function(){this.mesh.position.y-=this.fallSpeed,this.fallSpeed++},this.moveRight=function(){this.mesh.position.x<10&&TweenMax.to(this.mesh.position,.2,{x:this.mesh.position.x+10}),this.mesh.position.x>-25&&this.mesh.rotation.y>0&&TweenMax.to(this.mesh.rotation,.6,{y:-.9})},this.moveLeft=function(){this.mesh.position.x>-70&&TweenMax.to(this.mesh.position,.2,{x:this.mesh.position.x-10}),this.mesh.position.x<-25&&this.mesh.rotation.y<0&&TweenMax.to(this.mesh.rotation,.6,{y:.9})},this.checkOrientation=function(){this.mesh.position.x<-25&&this.mesh.rotation.y<0?TweenMax.to(this.mesh.rotation,.6,{y:.9}):this.mesh.position.x>-25&&this.mesh.rotation.y>0&&TweenMax.to(this.mesh.rotation,.6,{y:-.9})}},t=function(){return player=new i,player.mesh.scale.set(.5,.5,.5),player.mesh.position.y=65,player.mesh.position.x-=30,player.mesh.position.z=60,e.scene.add(player.mesh),player};return{createPlayer:t}}),define("game/modules/font",[],function(){return{glyphs:{0:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 331 0 m 496 165 l 661 165 l 661 661 l 496 661 l 496 165 z "},1:{ha:992,x_min:165,x_max:827,o:"m 331 661 l 165 661 l 165 827 l 661 827 l 661 165 l 827 165 l 827 0 l 165 0 l 165 165 l 331 165 l 331 661 z "},2:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 331 l 331 331 l 331 496 l 661 496 l 661 661 l 165 661 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 496 331 l 496 165 l 992 165 l 992 0 l 165 0 z "},3:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 165 l 661 165 l 661 331 l 331 331 l 331 496 l 661 496 l 661 661 l 165 661 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 z "},4:{ha:1157,x_min:165,x_max:992,o:"m 165 827 l 165 165 l 496 165 l 496 0 l 827 0 l 827 165 l 992 165 l 992 331 l 827 331 l 827 827 l 165 827 z "},5:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 165 l 661 165 l 661 331 l 165 331 l 165 827 l 992 827 l 992 661 l 496 661 l 496 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 z "},6:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 496 661 l 496 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 331 0 m 496 165 l 661 165 l 661 331 l 496 331 l 496 165 z "},7:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 331 l 496 331 l 496 496 l 661 496 l 661 661 l 165 661 l 165 827 l 992 827 l 992 496 l 827 496 l 827 331 l 661 331 l 661 0 l 331 0 z "},8:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 331 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 m 496 165 l 661 165 l 661 331 l 496 331 l 496 165 z "},9:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 661 165 l 661 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 331 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "}," ":{ha:827,x_min:0,x_max:0,o:""},"!":{ha:661,x_min:165,x_max:496,o:"m 165 331 l 165 827 l 496 827 l 496 331 l 165 331 m 165 165 l 496 165 l 496 0 l 165 0 l 165 165 z "},'"':{ha:992,x_min:165,x_max:827,o:"m 827 496 l 165 496 l 165 827 l 827 827 l 827 496 z "},"#":{ha:1323,x_min:165,x_max:1157,o:"m 331 0 l 331 165 l 165 165 l 165 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 1157 661 l 1157 496 l 992 496 l 992 331 l 1157 331 l 1157 165 l 992 165 l 992 0 l 331 0 z "},$:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 165 l 661 165 l 661 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 496 827 l 496 992 l 827 992 l 827 827 l 992 827 l 992 661 l 496 661 l 496 496 l 827 496 l 827 331 l 992 331 l 992 0 l 661 0 l 661 -165 l 331 -165 l 331 0 l 165 0 z "},"%":{ha:1323,x_min:165,x_max:1157,o:"m 331 0 l 331 331 l 496 331 l 496 496 l 165 496 l 165 827 l 992 827 l 992 496 l 827 496 l 827 331 l 1157 331 l 1157 0 l 331 0 z "},"&":{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 496 827 l 496 992 l 827 992 l 827 827 l 992 827 l 992 661 l 496 661 l 496 496 l 827 496 l 827 331 l 496 331 l 496 165 l 992 165 l 992 0 l 827 0 l 827 -165 l 496 -165 l 496 0 l 331 0 z "},"'":{ha:661,x_min:165,x_max:496,o:"m 496 496 l 165 496 l 165 827 l 496 827 l 496 496 z "},"(":{ha:827,x_min:165,x_max:661,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 661 827 l 661 661 l 496 661 l 496 165 l 661 165 l 661 0 l 331 0 z "},")":{ha:827,x_min:165,x_max:661,o:"m 661 165 l 496 165 l 496 0 l 165 0 l 165 165 l 331 165 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 661 661 l 661 165 z "},"*":{ha:1323,x_min:165,x_max:1157,o:"m 496 0 l 496 165 l 165 165 l 165 331 l 331 331 l 331 496 l 165 496 l 165 661 l 496 661 l 496 827 l 827 827 l 827 661 l 1157 661 l 1157 496 l 992 496 l 992 331 l 1157 331 l 1157 165 l 827 165 l 827 0 l 496 0 z "},"+":{ha:1323,x_min:165,x_max:1157,o:"m 165 331 l 496 331 l 496 0 l 827 0 l 827 331 l 1157 331 l 1157 496 l 827 496 l 827 827 l 496 827 l 496 496 l 165 496 l 165 331 z "},",":{ha:661,x_min:0,x_max:496,o:"m 165 0 l 165 165 l 496 165 l 496 0 l 331 0 l 331 -165 l 0 -165 l 0 0 l 165 0 z "},"-":{ha:992,x_min:165,x_max:827,o:"m 827 331 l 165 331 l 165 496 l 827 496 l 827 331 z "},".":{ha:496,x_min:0,x_max:331,o:"m 0 165 l 331 165 l 331 0 l 0 0 l 0 165 z "},"/":{ha:992,x_min:165,x_max:827,o:"m 165 0 l 165 331 l 331 331 l 331 496 l 496 496 l 496 827 l 827 827 l 827 496 l 661 496 l 661 331 l 496 331 l 496 0 l 165 0 z "},":":{ha:496,x_min:0,x_max:331,o:"m 0 331 l 331 331 l 331 165 l 0 165 l 0 331 m 0 661 l 331 661 l 331 496 l 0 496 l 0 661 z "},";":{ha:661,x_min:0,x_max:496,o:"m 165 661 l 496 661 l 496 496 l 165 496 l 165 661 m 165 165 l 165 331 l 496 331 l 496 165 l 331 165 l 331 0 l 0 0 l 0 165 l 165 165 z "},"<":{ha:992,x_min:165,x_max:827,o:"m 496 0 l 496 165 l 331 165 l 331 331 l 165 331 l 165 496 l 331 496 l 331 661 l 496 661 l 496 827 l 827 827 l 827 661 l 661 661 l 661 496 l 496 496 l 496 331 l 661 331 l 661 165 l 827 165 l 827 0 l 496 0 z "},"=":{ha:992,x_min:165,x_max:827,o:"m 827 165 l 165 165 l 165 331 l 827 331 l 827 165 m 827 496 l 165 496 l 165 661 l 827 661 l 827 496 z "},">":{ha:992,x_min:165,x_max:827,o:"m 827 331 l 661 331 l 661 165 l 496 165 l 496 0 l 165 0 l 165 165 l 331 165 l 331 331 l 496 331 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 661 661 l 661 496 l 827 496 l 827 331 z "},"?":{ha:1157,x_min:165,x_max:992,o:"m 331 165 l 661 165 l 661 0 l 331 0 l 331 165 m 331 331 l 331 496 l 661 496 l 661 661 l 165 661 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 331 331 z "},"@":{ha:1323,x_min:165,x_max:1157,o:"m 331 0 m 496 331 l 992 331 l 992 496 l 1157 496 l 1157 661 l 992 661 l 992 827 l 331 827 l 331 661 l 165 661 l 165 165 l 331 165 l 331 0 l 992 0 l 992 165 l 496 165 l 496 331 z "},A:{ha:1157,x_min:165,x_max:992,o:"m 827 661 l 992 661 l 992 0 l 661 0 l 661 331 l 496 331 l 496 0 l 165 0 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},B:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 m 496 165 l 661 165 l 661 331 l 496 331 l 496 165 z "},C:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 496 l 661 496 l 661 661 l 496 661 l 496 165 l 661 165 l 661 331 l 992 331 l 992 165 l 827 165 l 827 0 l 331 0 z "},D:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 165 0 m 661 661 l 496 661 l 496 165 l 661 165 l 661 661 z "},E:{ha:992,x_min:165,x_max:827,o:"m 827 661 l 496 661 l 496 496 l 827 496 l 827 331 l 496 331 l 496 165 l 827 165 l 827 0 l 165 0 l 165 827 l 827 827 l 827 661 z "},F:{ha:992,x_min:165,x_max:827,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 496 661 l 496 496 l 827 496 l 827 331 l 496 331 l 496 0 l 165 0 z "},G:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 496 661 l 496 165 l 661 165 l 661 496 l 992 496 l 992 165 l 827 165 l 827 0 l 331 0 z "},H:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 496 827 l 496 496 l 661 496 l 661 827 l 992 827 l 992 0 l 661 0 l 661 331 l 496 331 l 496 0 l 165 0 z "},I:{ha:661,x_min:165,x_max:496,o:"m 165 0 l 165 827 l 496 827 l 496 0 l 165 0 z "},J:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 331 l 496 331 l 496 165 l 661 165 l 661 827 l 992 827 l 992 165 l 827 165 l 827 0 l 331 0 z "},K:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 661 661 l 661 827 l 992 827 l 992 661 l 827 661 l 827 496 l 661 496 l 661 331 l 827 331 l 827 165 l 992 165 l 992 0 l 661 0 l 661 165 l 496 165 l 496 0 l 165 0 z "},L:{ha:992,x_min:165,x_max:827,o:"m 496 165 l 827 165 l 827 0 l 165 0 l 165 827 l 496 827 l 496 165 z "},M:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 0 l 827 0 l 827 331 l 496 331 l 496 0 l 165 0 z "},N:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 661 661 l 661 496 l 827 496 l 827 827 l 1157 827 l 1157 0 l 827 0 l 827 165 l 661 165 l 661 331 l 496 331 l 496 0 l 165 0 z "},O:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 331 0 m 496 165 l 661 165 l 661 661 l 496 661 l 496 165 z "
},P:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 496 331 l 496 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},Q:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 992 0 l 992 -165 l 661 -165 l 661 0 l 331 0 m 496 165 l 661 165 l 661 661 l 496 661 l 496 165 z "},R:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 165 l 992 165 l 992 0 l 661 0 l 661 165 l 496 165 l 496 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},S:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 165 l 661 165 l 661 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 496 661 l 496 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 z "},T:{ha:992,x_min:165,x_max:827,o:"m 331 0 l 331 661 l 165 661 l 165 827 l 827 827 l 827 661 l 661 661 l 661 0 l 331 0 z "},U:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 827 l 496 827 l 496 165 l 661 165 l 661 827 l 992 827 l 992 165 l 827 165 l 827 0 l 331 0 z "},V:{ha:1323,x_min:165,x_max:1157,o:"m 496 0 l 496 165 l 331 165 l 331 496 l 165 496 l 165 827 l 496 827 l 496 496 l 827 496 l 827 827 l 1157 827 l 1157 496 l 992 496 l 992 165 l 827 165 l 827 0 l 496 0 z "},W:{ha:1323,x_min:165,x_max:1157,o:"m 331 0 l 331 165 l 165 165 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 165 l 992 165 l 992 0 l 331 0 z "},X:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 165 l 331 165 l 331 331 l 496 331 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 1157 165 l 1157 0 l 827 0 l 827 165 l 496 165 l 496 0 l 165 0 z "},Y:{ha:1323,x_min:165,x_max:1157,o:"m 496 0 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 661 l 992 661 l 992 496 l 827 496 l 827 0 l 496 0 z "},Z:{ha:992,x_min:165,x_max:827,o:"m 165 0 l 165 331 l 331 331 l 331 496 l 496 496 l 496 661 l 165 661 l 165 827 l 827 827 l 827 496 l 661 496 l 661 331 l 496 331 l 496 165 l 827 165 l 827 0 l 165 0 z "},"[":{ha:827,x_min:165,x_max:661,o:"m 165 0 l 165 827 l 661 827 l 661 661 l 496 661 l 496 165 l 661 165 l 661 0 l 165 0 z "},"\\":{ha:992,x_min:165,x_max:827,o:"m 496 0 l 496 331 l 331 331 l 331 496 l 165 496 l 165 827 l 496 827 l 496 496 l 661 496 l 661 331 l 827 331 l 827 0 l 496 0 z "},"]":{ha:827,x_min:165,x_max:661,o:"m 661 0 l 165 0 l 165 165 l 331 165 l 331 661 l 165 661 l 165 827 l 661 827 l 661 0 z "},"^":{ha:992,x_min:165,x_max:827,o:"m 165 496 l 165 661 l 331 661 l 331 827 l 661 827 l 661 661 l 827 661 l 827 496 l 165 496 z "},_:{ha:1157,x_min:165,x_max:992,o:"m 992 -165 l 165 -165 l 165 0 l 992 0 l 992 -165 z "},"`":{ha:827,x_min:165,x_max:661,o:"m 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 661 661 l 661 496 l 331 496 z "},a:{ha:1157,x_min:165,x_max:992,o:"m 827 661 l 992 661 l 992 0 l 661 0 l 661 331 l 496 331 l 496 0 l 165 0 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},b:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 m 496 165 l 661 165 l 661 331 l 496 331 l 496 165 z "},c:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 496 l 661 496 l 661 661 l 496 661 l 496 165 l 661 165 l 661 331 l 992 331 l 992 165 l 827 165 l 827 0 l 331 0 z "},d:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 165 0 m 661 661 l 496 661 l 496 165 l 661 165 l 661 661 z "},e:{ha:992,x_min:165,x_max:827,o:"m 827 661 l 496 661 l 496 496 l 827 496 l 827 331 l 496 331 l 496 165 l 827 165 l 827 0 l 165 0 l 165 827 l 827 827 l 827 661 z "},f:{ha:992,x_min:165,x_max:827,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 496 661 l 496 496 l 827 496 l 827 331 l 496 331 l 496 0 l 165 0 z "},g:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 496 661 l 496 165 l 661 165 l 661 496 l 992 496 l 992 165 l 827 165 l 827 0 l 331 0 z "},h:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 496 827 l 496 496 l 661 496 l 661 827 l 992 827 l 992 0 l 661 0 l 661 331 l 496 331 l 496 0 l 165 0 z "},i:{ha:661,x_min:165,x_max:496,o:"m 165 0 l 165 827 l 496 827 l 496 0 l 165 0 z "},j:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 331 l 496 331 l 496 165 l 661 165 l 661 827 l 992 827 l 992 165 l 827 165 l 827 0 l 331 0 z "},k:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 661 661 l 661 827 l 992 827 l 992 661 l 827 661 l 827 496 l 661 496 l 661 331 l 827 331 l 827 165 l 992 165 l 992 0 l 661 0 l 661 165 l 496 165 l 496 0 l 165 0 z "},l:{ha:992,x_min:165,x_max:827,o:"m 496 165 l 827 165 l 827 0 l 165 0 l 165 827 l 496 827 l 496 165 z "},m:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 0 l 827 0 l 827 331 l 496 331 l 496 0 l 165 0 z "},n:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 827 l 496 827 l 496 661 l 661 661 l 661 496 l 827 496 l 827 827 l 1157 827 l 1157 0 l 827 0 l 827 165 l 661 165 l 661 331 l 496 331 l 496 0 l 165 0 z "},o:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 331 0 m 496 165 l 661 165 l 661 661 l 496 661 l 496 165 z "},p:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 331 l 496 331 l 496 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},q:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 661 l 331 661 l 331 827 l 827 827 l 827 661 l 992 661 l 992 165 l 827 165 l 827 0 l 992 0 l 992 -165 l 661 -165 l 661 0 l 331 0 m 496 165 l 661 165 l 661 661 l 496 661 l 496 165 z "},r:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 827 l 827 827 l 827 661 l 992 661 l 992 496 l 827 496 l 827 165 l 992 165 l 992 0 l 661 0 l 661 165 l 496 165 l 496 0 l 165 0 m 496 496 l 661 496 l 661 661 l 496 661 l 496 496 z "},s:{ha:1157,x_min:165,x_max:992,o:"m 165 0 l 165 165 l 661 165 l 661 331 l 331 331 l 331 496 l 165 496 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 496 661 l 496 496 l 827 496 l 827 331 l 992 331 l 992 165 l 827 165 l 827 0 l 165 0 z "},t:{ha:992,x_min:165,x_max:827,o:"m 331 0 l 331 661 l 165 661 l 165 827 l 827 827 l 827 661 l 661 661 l 661 0 l 331 0 z "},u:{ha:1157,x_min:165,x_max:992,o:"m 331 0 l 331 165 l 165 165 l 165 827 l 496 827 l 496 165 l 661 165 l 661 827 l 992 827 l 992 165 l 827 165 l 827 0 l 331 0 z "},v:{ha:1323,x_min:165,x_max:1157,o:"m 496 0 l 496 165 l 331 165 l 331 496 l 165 496 l 165 827 l 496 827 l 496 496 l 827 496 l 827 827 l 1157 827 l 1157 496 l 992 496 l 992 165 l 827 165 l 827 0 l 496 0 z "},w:{ha:1323,x_min:165,x_max:1157,o:"m 331 0 l 331 165 l 165 165 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 165 l 992 165 l 992 0 l 331 0 z "},x:{ha:1323,x_min:165,x_max:1157,o:"m 165 0 l 165 165 l 331 165 l 331 331 l 496 331 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 661 l 992 661 l 992 496 l 827 496 l 827 331 l 992 331 l 992 165 l 1157 165 l 1157 0 l 827 0 l 827 165 l 496 165 l 496 0 l 165 0 z "},y:{ha:1323,x_min:165,x_max:1157,o:"m 496 0 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 496 827 l 496 661 l 827 661 l 827 827 l 1157 827 l 1157 661 l 992 661 l 992 496 l 827 496 l 827 0 l 496 0 z "},z:{ha:992,x_min:165,x_max:827,o:"m 165 0 l 165 331 l 331 331 l 331 496 l 496 496 l 496 661 l 165 661 l 165 827 l 827 827 l 827 496 l 661 496 l 661 331 l 496 331 l 496 165 l 827 165 l 827 0 l 165 0 z "},"{":{ha:992,x_min:165,x_max:827,o:"m 331 0 l 331 331 l 165 331 l 165 496 l 331 496 l 331 827 l 827 827 l 827 661 l 661 661 l 661 496 l 496 496 l 496 331 l 661 331 l 661 165 l 827 165 l 827 0 l 331 0 z "},"|":{ha:661,x_min:165,x_max:496,o:"m 165 -165 l 165 992 l 496 992 l 496 -165 l 165 -165 z "},"}":{ha:992,x_min:165,x_max:827,o:"m 827 331 l 661 331 l 661 0 l 165 0 l 165 165 l 331 165 l 331 331 l 496 331 l 496 496 l 331 496 l 331 661 l 165 661 l 165 827 l 661 827 l 661 496 l 827 496 l 827 331 z "},"~":{ha:1157,x_min:165,x_max:992,o:"m 165 496 l 165 661 l 331 661 l 331 827 l 992 827 l 992 661 l 827 661 l 827 496 l 165 496 z "}},familyName:"Silkscreen",ascender:1058,descender:-331,underlinePosition:-133,underlineThickness:20,boundingBox:{yMin:-125,xMin:0,yMax:800,xMax:875},resolution:1e3,original_font_information:{format:0,copyright:"send bread and water to jason@kottke.org",fontFamily:"Silkscreen",fontSubfamily:"Bold",uniqueID:"kott:Silkscreen Bold",fullName:"Silkscreen Bold",version:"1.0 Sat Aug 21 15:44:44 1999",postScriptName:"Silkscreen-Bold"},cssFontWeight:"bold",cssFontStyle:"normal"}}),define("game/modules/platforms",["./colors","./scene","./font"],function(e,l,i){var t,n=new XMLHttpRequest;n.onreadystatechange=function(){4===this.readyState&&(t=n.responseText)},n.open("GET",gamefile||"dist/game.js",!0),n.send(null),i=new THREE.Font(i);var a=function(){var i=new THREE.CubeGeometry(1e3,20,200),t=new THREE.MeshPhongMaterial({color:e.hair,shading:THREE.FlatShading}),n=new THREE.Mesh(i,t);return n.castShadow=!0,n.receiveShadow=!0,n.position.y=-200,l.scene.add(n),n},r=10,o=[],s=21,m=70,h=10,c=function(n,a){var r=t.substr(0,h);t=t.substr(h);var s=new THREE.TextGeometry(r,{font:i,size:5,height:20,curveSegments:2}),m=new THREE.MeshPhongMaterial({color:e.hair,shading:THREE.FlatShading});window.platform=new THREE.Mesh(s,m),platform.castShadow=!0,platform.receiveShadow=!0,a?(platform.tempY=n,platform.position.y=-300,platform.position.x=10-~~(70*Math.random()),platform.position.z=-15):(platform.position.y=n,platform.position.x=10-~~(70*Math.random()),platform.position.z=-15),platform.scale.set(.5,1,1),platform.bbox=new THREE.BoundingBoxHelper(platform,new THREE.MeshBasicMaterial),l.scene.add(platform.bbox),o.push(platform),l.scene.add(platform)},p=function(){if(!t)return void setTimeout(p,200);for(var e=0;e<r;e++)c(m+e*s,!0)};return{addStartingPlatform:a,createPlatform:c,createAll:p,platforms:o,distance:s}}),define("game/startup",["./modules/scene","./modules/lights","./modules/player","./modules/platforms","./modules/colors"],function(e,l,i,t,n){function a(e){var l=-1+e.clientX/h.WIDTH*2,i=1-e.clientY/h.HEIGHT*2;c={x:l,y:i}}function r(e,l,i,t,n){var a=Math.max(Math.min(e,i),l),r=i-l,o=(a-l)/r,s=n-t,m=t+o*s;return m}function o(){var e=new Date;if(e-u>x){if(player.isJumping){var l=r(c.x,-1,1,-270,200);l=Math.max(Math.min(l,20),-80),TweenMax.to(player.mesh.position,.2,{x:l}),player.checkOrientation(),player.checkJump(),player.moveRest&&(t.platforms.forEach(function(e){e.position.y-=player.jumpSpeed}),m.position.y-=player.jumpSpeed)}player.isFalling&&player.checkFall(),u=e}if(t.platforms.forEach(function(e){e.bbox.update()}),player.isFalling){var i=new THREE.Raycaster,n=new THREE.Vector3(0,-1,0);i.set(player.mesh.position,n);var a=i.intersectObjects(t.platforms.map(function(e){return e.bbox}).concat([m]));if(a.length)for(var s=0;s<a.length;s++)if(a[s].distance<player.fallSpeed+1){player.fallStop();break}h.camera.updateMatrix(),h.camera.updateMatrixWorld(),h.camera.matrixWorldInverse.getInverse(h.camera.matrixWorld),player.head.updateMatrix(),player.head.updateMatrixWorld();var d=new THREE.Frustum;d.setFromMatrix((new THREE.Matrix4).multiplyMatrices(h.camera.projectionMatrix,h.camera.matrixWorldInverse)),d.intersectsObject(player.head)||p(),d.intersectsObject(t.platforms[0])||(t.platforms.shift(),t.createPlatform(t.platforms[t.platforms.length-1].position.y+t.distance))}h.renderer.render(h.scene,h.camera),requestAnimationFrame(o)}function s(n){h=e.createScene(),e.scene=h.scene,window.player=i.createPlayer(),l.createLights(),m=t.addStartingPlatform(),document.addEventListener("mousemove",a,!1),t.createAll(),o(),d()}var m,h,l,c={x:0,y:0},p=function(){player.isJumping=player.isFalling=!1,player.fallSpeed=player.jumpSpeed=0,TweenMax.to(player.mesh.scale,2,{ease:"Strong.easeOut",z:.5,y:.5,x:.5}),TweenMax.to(player.mesh.position,2,{ease:"Strong.easeOut",z:60,y:65,x:-30}),TweenMax.to(player.mesh.rotation,2,{ease:"Strong.easeOut",y:0}),t.platforms.forEach(function(e){TweenMax.to(e.position,2,{ease:"Strong.easeOut",y:-300})}),TweenMax.to(m.position,2,{ease:"Strong.easeOut",y:-300})},d=function(){setTimeout(function(){TweenMax.to(m.position,2,{ease:"Strong.easeOut",y:38,x:-30}),TweenMax.to(player.mesh.scale,2,{ease:"Strong.easeOut",z:.125,y:.125,x:.125}),TweenMax.to(player.mesh.position,2,{ease:"Strong.easeOut",z:0,y:48.5,x:-50}),TweenMax.to(player.mesh.rotation,2,{ease:"Strong.easeOut",y:.9,onComplete:player.jump.bind(player)}),t.platforms.forEach(function(e){TweenMax.to(e.position,2,{ease:"Strong.easeOut",y:e.tempY})})},2e3)},u=new Date,x=1e3/33;document.onkeydown=function(e){39===e.keyCode?player.moveRight():37===e.keyCode&&player.moveLeft()},s()});
